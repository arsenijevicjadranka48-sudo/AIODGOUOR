<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat s Node.js Serverom</title>
</head>
<body>
  <h1>AI Chat preko Node.js</h1>
  <textarea id="userMessage" placeholder="Upiši poruku..." rows="4" cols="50"></textarea><br>
  <button id="sendBtn">Pošalji</button>
  <h2>Odgovor:</h2>
  <div id="response"></div>

  <script>
    const sendBtn = document.getElementById('sendBtn');
    const userMessage = document.getElementById('userMessage');
    const responseDiv = document.getElementById('response');

    sendBtn.addEventListener('click', async () => {
      const message = userMessage.value;
      if (!message) return alert("Upiši poruku!");

      const res = await fetch('http://localhost:3000/api/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
      });

      const data = await res.json();
      if (data.answer) {
        responseDiv.innerText = data.answer;
      } else {
        responseDiv.innerText = 'Greška: ' + data.error;
      }
    });
  </script>
</body>
</html>
